See http://www.semitrivial.com/patterns/ for documentation
